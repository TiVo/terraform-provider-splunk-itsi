---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "itsi_kpi_threshold_template Resource - itsi"
subcategory: ""
description: |-
  
---

# itsi_kpi_threshold_template (Resource)



## Example Usage

```terraform
# Sample time variate standard deviation threshold template

resource "itsi_kpi_threshold_template" "stdev" {
  title                                 = "Sample time variate standard deviation threshold template"
  description                           = "stdev"
  adaptive_thresholds_is_enabled        = true
  adaptive_thresholding_training_window = "-7d"
  time_variate_thresholds               = true
  sec_grp                               = "default_itsi_security_group"
  time_variate_thresholds_specification {
    policies {
      policy_name = "default_policy"
      title       = "Default"
      policy_type = "stdev"
      aggregate_thresholds {
        base_severity_label = "normal"
        metric_field        = ""
        is_max_static       = false
        gauge_min           = -4
        gauge_max           = 4
        render_boundary_min = -4
        render_boundary_max = 4
        search              = ""
        is_min_static       = false
        threshold_levels {
          severity_label  = "critical"
          dynamic_param   = 2.75
          threshold_value = 2.75
        }
        threshold_levels {
          severity_label  = "high"
          dynamic_param   = 2.25
          threshold_value = 2.25
        }
        threshold_levels {
          severity_label  = "medium"
          dynamic_param   = 1.75
          threshold_value = 1.75
        }
        threshold_levels {
          severity_label  = "low"
          dynamic_param   = 1.25
          threshold_value = 1.25
        }
      }

      entity_thresholds {
        base_severity_label = "normal"
        gauge_max           = 100
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = false
        metric_field        = ""
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
      }
    }
    policies {
      policy_name = "0-1"
      title       = "test"
      policy_type = "stdev"
      aggregate_thresholds {
        base_severity_label = "normal"
        metric_field        = ""
        is_max_static       = false
        gauge_min           = -4
        gauge_max           = 4
        render_boundary_min = -4
        render_boundary_max = 4
        search              = ""
        is_min_static       = false
        threshold_levels {
          severity_label  = "critical"
          dynamic_param   = 2.75
          threshold_value = 2.75
        }
        threshold_levels {
          severity_label  = "high"
          dynamic_param   = 2.25
          threshold_value = 2.25
        }
        threshold_levels {
          severity_label  = "medium"
          dynamic_param   = 1.75
          threshold_value = 1.75
        }
        threshold_levels {
          severity_label  = "low"
          dynamic_param   = 1.25
          threshold_value = 1.25
        }
      }

      entity_thresholds {
        base_severity_label = "normal"
        gauge_max           = 100
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = false
        metric_field        = ""
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
      }
    }
  }
}

# Sample time variate static threshold template

resource "itsi_kpi_threshold_template" "static" {
  title                                 = "Sample time variate static threshold template"
  description                           = "static"
  adaptive_thresholds_is_enabled        = true
  adaptive_thresholding_training_window = "-7d"
  time_variate_thresholds               = true
  sec_grp                               = "default_itsi_security_group"

  time_variate_thresholds_specification {

    policies {
      policy_name = "default_policy"
      title       = "Default"
      policy_type = "static"
      aggregate_thresholds {
        base_severity_label = "normal"
        metric_field        = ""
        is_max_static       = false
        gauge_min           = -4
        gauge_max           = 4
        render_boundary_min = -4
        render_boundary_max = 4
        search              = ""
        is_min_static       = false
        threshold_levels {
          severity_label  = "critical"
          threshold_value = 4
        }
        threshold_levels {
          severity_label  = "high"
          threshold_value = 3
        }
        threshold_levels {
          severity_label  = "medium"
          threshold_value = 2
        }
        threshold_levels {
          severity_label  = "low"
          threshold_value = 1
        }
      }

      entity_thresholds {
        base_severity_label = "normal"
        gauge_max           = 100
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = false
        metric_field        = ""
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
      }
    }

    policies {
      policy_name = "0-1"
      title       = "test"
      policy_type = "static"
      aggregate_thresholds {
        base_severity_label = "normal"
        metric_field        = ""
        is_max_static       = false
        gauge_min           = -4
        gauge_max           = 4
        render_boundary_min = -4
        render_boundary_max = 4
        search              = ""
        is_min_static       = false
        threshold_levels {
          severity_label  = "critical"
          threshold_value = 4
        }
        threshold_levels {
          severity_label  = "high"
          threshold_value = 3
        }
        threshold_levels {
          severity_label  = "medium"
          threshold_value = 2
        }
        threshold_levels {
          severity_label  = "low"
          threshold_value = 1
        }
      }

      entity_thresholds {
        base_severity_label = "normal"
        gauge_max           = 100
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = false
        metric_field        = ""
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
      }
    }
  }


}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `adaptive_thresholding_training_window` (String) The earliest time for the Adaptive Threshold training algorithm to run over (latest time is always 'now') (e.g. '-7d')
- `adaptive_thresholds_is_enabled` (Boolean) Determines if adaptive threshold is enabled for this KPI threshold template.
- `sec_grp` (String) The team the object belongs to.
- `time_variate_thresholds` (Boolean) If true, thresholds for alerts are pulled from time_variate_thresholds_specification.
- `title` (String) Name of this KPI threshold template.

### Optional

- `description` (String) User defined description of the entity.
- `time_variate_thresholds_specification` (Block, Optional) (see [below for nested schema](#nestedblock--time_variate_thresholds_specification))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--time_variate_thresholds_specification"></a>
### Nested Schema for `time_variate_thresholds_specification`

Optional:

- `policies` (Block Set) Map object of policies keyed by policy_name. (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies))

<a id="nestedblock--time_variate_thresholds_specification--policies"></a>
### Nested Schema for `time_variate_thresholds_specification.policies`

Required:

- `policy_name` (String) Internal key value for policy.
- `policy_type` (String) The algorithm, specified for the current policy threshold level evaluation.
													Supported values: static, stdev (standard deviation), quantile, range and percentage.
- `title` (String) The policy title, displayed to the user in the UI. Should be unique per policies object.

Optional:

- `aggregate_thresholds` (Block, Optional) User-defined thresholding levels for "Aggregate" threshold type. For more information, see KPI Threshold Setting. (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies--aggregate_thresholds))
- `entity_thresholds` (Block, Optional) User-defined thresholding levels for "Per Entity" threshold type. For more information, see KPI Threshold Setting. (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies--entity_thresholds))
- `time_blocks` (Block Set) (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies--time_blocks))

<a id="nestedblock--time_variate_thresholds_specification--policies--aggregate_thresholds"></a>
### Nested Schema for `time_variate_thresholds_specification.policies.aggregate_thresholds`

Required:

- `is_max_static` (Boolean) True when maximum threshold value is a static value, false otherwise.
- `is_min_static` (Boolean) True when min threshold value is a static value, false otherwise.

Optional:

- `base_severity_label` (String) Base severity label assigned for the threshold (info, normal, low, medium, high, critical).
- `gauge_max` (Number) Maximum value for the threshold gauge specified by user
- `gauge_min` (Number) Minimum value for the threshold gauge specified by user.
- `metric_field` (String) Thresholding field from the search.
- `render_boundary_max` (Number) Upper bound value to use to render the graph for the thresholds.
- `render_boundary_min` (Number) Lower bound value to use to render the graph for the thresholds.
- `search` (String) Generated search used to compute the thresholds for this KPI.
- `threshold_levels` (Block Set) (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies--aggregate_thresholds--threshold_levels))

<a id="nestedblock--time_variate_thresholds_specification--policies--aggregate_thresholds--threshold_levels"></a>
### Nested Schema for `time_variate_thresholds_specification.policies.aggregate_thresholds.threshold_levels`

Required:

- `dynamic_param` (Number) Value of the dynamic parameter for adaptive thresholds
- `severity_label` (String) Severity label assigned for this threshold level like info, warning, critical, etc
- `threshold_value` (Number) Value for the threshold field stats identifying this threshold level.
							This is the key value that defines the levels for values derived from the KPI search metrics.



<a id="nestedblock--time_variate_thresholds_specification--policies--entity_thresholds"></a>
### Nested Schema for `time_variate_thresholds_specification.policies.entity_thresholds`

Required:

- `is_max_static` (Boolean) True when maximum threshold value is a static value, false otherwise.
- `is_min_static` (Boolean) True when min threshold value is a static value, false otherwise.

Optional:

- `base_severity_label` (String) Base severity label assigned for the threshold (info, normal, low, medium, high, critical).
- `gauge_max` (Number) Maximum value for the threshold gauge specified by user
- `gauge_min` (Number) Minimum value for the threshold gauge specified by user.
- `metric_field` (String) Thresholding field from the search.
- `render_boundary_max` (Number) Upper bound value to use to render the graph for the thresholds.
- `render_boundary_min` (Number) Lower bound value to use to render the graph for the thresholds.
- `search` (String) Generated search used to compute the thresholds for this KPI.
- `threshold_levels` (Block Set) (see [below for nested schema](#nestedblock--time_variate_thresholds_specification--policies--entity_thresholds--threshold_levels))

<a id="nestedblock--time_variate_thresholds_specification--policies--entity_thresholds--threshold_levels"></a>
### Nested Schema for `time_variate_thresholds_specification.policies.entity_thresholds.threshold_levels`

Required:

- `dynamic_param` (Number) Value of the dynamic parameter for adaptive thresholds
- `severity_label` (String) Severity label assigned for this threshold level like info, warning, critical, etc
- `threshold_value` (Number) Value for the threshold field stats identifying this threshold level.
							This is the key value that defines the levels for values derived from the KPI search metrics.



<a id="nestedblock--time_variate_thresholds_specification--policies--time_blocks"></a>
### Nested Schema for `time_variate_thresholds_specification.policies.time_blocks`

Required:

- `cron` (String) Corresponds to the cron expression in format: {minute} {hour} {\*} {\*} {day}
- `interval` (Number) Corresponds to the cron expression in format: {minute} {hour} {\*} {\*} {day}

## Import

Import is supported using the following syntax:

```shell
terraform import itsi_kpi_threshold_template.example {{id}}
#OR
terraform import itsi_kpi_threshold_template.example {{title}}
```
