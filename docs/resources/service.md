---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "itsi_service Resource - itsi"
subcategory: ""
description: |-
  Manages a Service within ITSI.
---

# itsi_service (Resource)

Manages a Service within ITSI.

## Example Usage

```terraform
resource "itsi_service" "Test-custom-static-threshold" {
  enabled = true
  entity_rules {
    rule {
      field      = "host"
      field_type = "alias"
      rule_type  = "matches"
      value      = "example.com"
    }
  }
  kpi {
    base_search_id     = "625f502d7e6e1a37ea062eff"
    base_search_metric = "host_count"
    custom_threshold {
      aggregate_thresholds {
        base_severity_label = "normal"
        gauge_max           = 96.8
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = true
        metric_field        = "count"
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
        threshold_levels {
          dynamic_param   = 0
          severity_label  = "medium"
          threshold_value = 75
        }
        threshold_levels {
          dynamic_param   = 0
          severity_label  = "high"
          threshold_value = 88
        }
        threshold_levels {
          dynamic_param   = 0
          severity_label  = "low"
          threshold_value = 50
        }
      }
      entity_thresholds {
        base_severity_label = "normal"
        gauge_max           = 82.5
        gauge_min           = 0
        is_max_static       = false
        is_min_static       = true
        metric_field        = "count"
        render_boundary_max = 100
        render_boundary_min = 0
        search              = ""
        threshold_levels {
          dynamic_param   = 0
          severity_label  = "medium"
          threshold_value = 75
        }
        threshold_levels {
          dynamic_param   = 0
          severity_label  = "low"
          threshold_value = 50
        }
      }
    }
    search_type           = "shared_base"
    threshold_template_id = ""
    title                 = "Test custom static threshold KPI 1"
    type                  = "kpis_primary"
    urgency               = 5
  }
  security_group = "default_itsi_security_group"
  title          = "Test custom static threshold"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `title` (String) Title of the service.

### Optional

- `description` (String) User-defined description for the service.
- `enabled` (Boolean) Boolean value defining whether the service should be enabled.
- `entity_rules` (Block Set) A set of rules within the rule group, which are combined using OR operator. (see [below for nested schema](#nestedblock--entity_rules))
- `is_healthscore_calculate_by_entity_enabled` (Boolean) Set the Service Health Score calculation to account for the severity levels of individual entities if at least one KPI is split by entity.
- `kpi` (Block Set) A set of KPI descriptions for this service. (see [below for nested schema](#nestedblock--kpi))
- `security_group` (String) The team the object belongs to.
- `service_depends_on` (Block Set) A set of service descriptions with KPIs in those services that this service depends on. (see [below for nested schema](#nestedblock--service_depends_on))
- `tags` (Set of String) The tags for the service.

### Read-Only

- `id` (String) The ID of this resource.
- `shkpi_id` (String) _key value for the Service Health Score KPI.

<a id="nestedblock--entity_rules"></a>
### Nested Schema for `entity_rules`

Optional:

- `rule` (Block Set) A set of rules within the rule group, which are combined using AND operator. (see [below for nested schema](#nestedblock--entity_rules--rule))

<a id="nestedblock--entity_rules--rule"></a>
### Nested Schema for `entity_rules.rule`

Required:

- `field` (String) The field in the entity definition to compare values to evaluate this rule.
- `field_type` (String) Takes values alias, info or title specifying in which category of fields the field attribute is located.
- `rule_type` (String) Takes values not or matches to indicate whether it's an inclusion or exclusion rule.
- `value` (String) Values to evaluate in the rule. To specify multiple values, separate them with a comma. Values are not case sensitive.



<a id="nestedblock--kpi"></a>
### Nested Schema for `kpi`

Required:

- `base_search_id` (String)
- `base_search_metric` (String)
- `title` (String) Name of the kpi. Can be any unique value.

Optional:

- `description` (String) User-defined description for the KPI.
- `search_type` (String)
- `threshold_template_id` (String)
- `type` (String) Could be kpis_primary.
- `urgency` (Number) User-assigned importance value for this KPI.

Read-Only:

- `id` (String) id (splunk _key) is automatically generated sha1 string, from base_search_id & metric_id seed,
							concatenated with serviceId.


<a id="nestedblock--service_depends_on"></a>
### Nested Schema for `service_depends_on`

Required:

- `kpis` (Set of String) A set of _key ids for each KPI in service identified by serviceid, which this service will depend on.
- `service` (String) _key value of service that this service depends on.

Optional:

- `overloaded_urgencies` (Map of Number) A map of urgency overriddes for the KPIs this service is depending on.

## Import

Import is supported using the following syntax:

```shell
terraform import itsi_service.example {{id}}
#OR
terraform import itsi_service.example {{title}}
```
